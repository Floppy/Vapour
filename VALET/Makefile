# Makefile for VALET
# NOTE: Will eventually be generated by VMake

# 16/09/2001 - Warren Moore
# $Id: Makefile,v 1.2 2001/09/17 21:45:38 vap-warren Exp $
# Copyright 2001 Vapour Technology Ltd.

# root build sections
SECTIONS := core

.PHONY: all clean

all: build

# build
build: $(SECTIONS:%=_build_%)

.PHONY: $(SECTIONS:%=_build_%)
$(SECTIONS:%=_build_%):
	$(MAKE) -C $(@:_build_%=%) build

# test
test: $(SECTIONS:%=_test_%)

.PHONY: $(SECTIONS:%=_test_%)
$(SECTIONS:%=_test_%):
	$(MAKE) -C $(@:_test_%=%) test

# clean
clean: $(SECTIONS:%=_clean_%)

.PHONY: $(SECTIONS:%=_clean_%)
$(SECTIONS:%=_clean_%):
	$(MAKE) -C $(@:_clean_%=%) clean

.DEFAULT:
	@echo Unknown target: $@
